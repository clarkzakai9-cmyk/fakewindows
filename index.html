<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Windows Desktop</title>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/Icon.png">
  <!-- Optional: high-res icon for Apple/Android -->
  <link rel="apple-touch-icon" href="images/Icon.png">
</head>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: url('images/background.jpg') center/cover no-repeat;
  font-family: "Segoe UI", sans-serif;
  height: 100%;
  overflow: hidden;
}

/* Desktop shortcuts â€” fixed vertical sidebar */
.desktop-icons {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
}
.icon {
  position: absolute;
  width: 80px;
  text-align: center;
  color: white;
  font-size: 12px;
  cursor: move;
}
.icon img {
  width: 48px;
  height: 48px;
  margin-bottom: 4px;
  border-radius: 6px;
  background: rgba(255,255,255,0.1);
  padding: 4px;
}
.icon:hover img {
  background: rgba(255,255,255,0.3);
}



/* Taskbar */
.taskbar {
  position: fixed;
  bottom: 0; left: 0; right: 0;
  height: 40px;
  background: #0078D7;
  display: flex;
  align-items: center;
  padding: 0 10px;
  gap: 10px;
  z-index: 1000;
}
.taskbar img {
  width: 28px; height: 28px;
  cursor: pointer;
  border-radius: 4px;
}
.taskbar img:hover {
  background: rgba(255,255,255,0.2);
}

/* Window */
.win {
  position: absolute;
  width: 500px; height: 350px;
  background: #2d2d2d;
  border: 1px solid #444;
  box-shadow: 4px 4px 12px rgba(0,0,0,0.5);
  display: grid;
  grid-template-rows: 30px auto;
  z-index: 999;
  resize: both;
  overflow: hidden;
  min-width: 200px;
  min-height: 150px;
}
.titlebar {
  background: #0078D7;
  color: #fff;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 8px;
  cursor: move;
}
.controls button {
  background: transparent;
  border: none;
  color: #fff;
  font-size: 14px;
  cursor: pointer;
  margin-left: 6px;
}
iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Start Menu */
.start-menu {
  position: fixed;
  bottom: 40px; left: 10px;
  width: 220px;
  background: #2d2d2d;
  border: 1px solid #444;
  box-shadow: 4px 4px 12px rgba(0,0,0,0.5);
  display: none;
  flex-direction: column;
  z-index: 2000;
}
.start-menu button {
  background: none;
  border: none;
  color: #fff;
  text-align: left;
  padding: 10px;
  cursor: pointer;
  font-size: 14px;
}
.start-menu button:hover {
  background: #0078D7;
}
.power-btn {
  margin-top: auto;
  background: #a00;
  color: #fff;
  text-align: center;
}

</style>
</head>
<body>

<!-- Desktop shortcuts -->
<div class="desktop-icons">
  <div class="icon" onclick="createWindow('Browser','browser.html')" title="Browser">
    <img src="images/Icon.png"><span>Browser</span>
  </div>
  <div class="icon" onclick="createWindow('Farm','fake-app.html')" title="Farm">
    <img src="images/Farm.png"><span>farm</span>
  </div>
  <div class="icon" onclick="createWindow('File Browser','file-browser.html')" title="File Browser">
    <img src="images/folder.png"><span>File Browser</span>
  </div>
  <div class="icon" onclick="createWindow('Notes','notes.html')" title="Notes">
    <img src="images/Notes.png"><span>Notes</span>
  </div>
  <div class="icon" onclick="createWindow('Skate','HAssets/Ton.html')" title="Game">
    <img src="images/notes-icon.png"><span>Game</span>
  </div>
  <div class="icon" onclick="createWindow('Ai','ai.html')" title="AI">
    <img src="images/Ai.png"><span>Kaigpt</span>
  </div>
  <div class="icon" onclick="createWindow('Pac-Man','Assets/Pac-Man.html')" title="PacMan">
    <img src="images/Pacman.png"><span>Pacman</span>
  </div>
  <div class="icon" onclick="createWindow('Uno','Assets/Uno.html')" title="Uno">
    <img src="images/Uno.png"><span>Uno</span>
  </div>
  <div class="icon" onclick="createWindow('Pac-Man','Assets/ping pong.html')" title="Pong">
    <img src="images/Pong.png"><span>Pong</span>
  </div>
  <div class="icon" onclick="createWindow('Editor','editor.html')" title="Editor">
  <img src="images/code.png"><span>Editor</span>
</div>
<div class="icon" onclick="createWindow('MiniTube','minitube.html')" title="MiniTube">
  <img src="images/Minitube.png"><span>Minitube</span>
</div>
<div class="icon" onclick="createWindow('Minecraft','Assets/Uno 2p.html')" title="Uno 2p">
  <img src="images/Uno.png"><span>Uno 2p</span>
</div>
<div class="icon" onclick="createWindow('Snake','Assets/Snake.html')" title="Snake">
  <img src="images/Snake.png"><span>Snake</span>
</div>
<div class="icon" onclick="createWindow('Beyond oasis','HAssets/Beyond.html')" title="Beyond oasis">
  <img src="images/Beyond oasis.png"><span>Beyond oasis</span>
</div>
<div class="icon" onclick="createWindow('Ai-Image','aiimagegen.html')" title="Ai-Image">
  <img src="images/Ai.png"><span>Ai-Image</span>
</div>
<div class="icon" onclick="createWindow('Skate','HAssets/Skate.html')" title="Skate">
  <img src="images/Skate.png"><span>Skate</span>
</div>
<div class="icon" onclick="createWindow('Offline video','offline.html')" title="Offline video">
  <img src="images/offline.png"><span>Offline video</span>
</div>
<div class="icon" onclick="createWindow('Mario','HAssets/Mario.html')" title="Mario">
  <img src="images/mario.png"><span>Mario</span>
</div>
<div class="icon" onclick="createWindow('Offline html','offlinehtml.html')" title="Offline html">
  <img src="images/Offlinehtml.png"><span>Offline html</span>
</div>
<div class="icon" onclick="createWindow('Offlinezip','zipoffline.html')" title="Offlinezip">
  <img src="images/Offlinezip.png"><span>Offlinezip</span>
</div>
<div class="icon" onclick="createWindow('xmenspider','HAssets/Xmen.html')" title="Xmenspider">
  <img src="images/xmenspider.png"><span>Xmenspider</span>
</div>
<div class="icon" onclick="createWindow('Sonic','HAssets/Sonic.html')" title="Sonic">
  <img src="images/Sonic.png"><span>Sonic</span>
</div>
<div class="icon" onclick="createWindow('Spiderman','HAssets/Spiderman.html')" title="Spiderman">
  <img src="images/Spiderman.png"><span>Spiderman</span>
</div>
<div class="icon" onclick="createWindow('Mortal kombat','HAssets/Mortal.html')" title="Mortal kombat">
  <img src="images/Mortal kombat.png"><span>Mortal kombat</span>
</div>
<div class="icon" onclick="createWindow('Legend of oasis','HAssets/Oasis.html')" title="Legend of oasis">
  <img src="images/Oasis.png"><span>Legend of oasis</span>
</div>

<div class="icon" onclick="createWindow('Mario tenis','HAssets/Tenis.html')" title="Mario tenis">
  <img src="images/Tenis.png"><span>Mario tenis</span>
</div>
<div class="icon" onclick="createWindow('Sonic3d','HAssets/Sonic 3d.html')" title="Sonic3d">
  <img src="images/Sonic3d.png"><span>Sonic3d</span>
</div>
<div class="icon" onclick="createWindow('Super mario','HAssets/Super.html')" title="Super mario">
  <img src="images/SMario.png"><span>Super Mario</span>
</div>
<div class="icon" onclick="createWindow('EmulatorJS','EmulatorJS.html')" title="EMulatorjs">
  <img src="images/EMulatorjs.png"><span>EmulatorJS</span>
</div>
<div class="icon" onclick="createWindow('Consoleroms','Consoleroms.html')" title="Consoleroms">
  <img src="images/Consoleroms.png"><span>Consoleroms</span>
</div>
<div class="icon" onclick="createWindow('Legend of zelda','HAssets/Legend.html')" title="Legend">
  <img src="images/Legend.png"><span>Legend of zelda</span>
</div>
<div class="icon" onclick="createWindow('Racing','HAssets/Drive.html')" title="Racing">
  <img src="images/Drive.png"><span>Racing</span>
</div>

</div>

<!-- Taskbar -->
<div class="taskbar">  
  <img src="images/Start-menu.png" title="Start Menu" onclick="toggleStartMenu()">
  <img src="images/Icon.png" title="Browser" onclick="createWindow('Browser','index.html')">
  <img src="images/Ai.png" title="Kaigpt" onclick="createWindow('Kaigpt','ai.html')">
  <img src="images/file-icon.png" title="File Browser" onclick="createWindow('File Browser','file-browser.html')">

</div>

<!-- Start Menu -->
<div class="start-menu" id="startMenu">
  <button onclick="changeBackground()">Change Background</button>
  <button onclick="alert('Other settings coming soon!')">Other Settings</button>
  <button class="power-btn" onclick="window.close()">Power Off</button>
</div>

<script>
function createWindow(title, src){
  const win = document.createElement("div");
  win.className = "win";
  win.style.top = (60 + Math.random()*100) + "px";
  win.style.left = (60 + Math.random()*100) + "px";

  const titlebar = document.createElement("div");
  titlebar.className = "titlebar";
  titlebar.innerHTML = `<span>${title}</span>
    <div class="controls">
      <button class="minBtn">â–­</button>
      <button class="maxBtn">ðŸ—–</button>
      <button class="closeBtn">âœ–</button>
    </div>`;

  const iframe = document.createElement("iframe");
  iframe.src = src;

  win.appendChild(titlebar);
  win.appendChild(iframe);
  document.body.appendChild(win);

  // Close
  titlebar.querySelector(".closeBtn").onclick = () => win.remove();

  // Minimize
  titlebar.querySelector(".minBtn").onclick = () => {
    iframe.style.display = "none";
    win.style.height = "30px";
  };

  // Fullscreen / Restore
  let maximized = false;
  titlebar.querySelector(".maxBtn").onclick = () => {
    if(!maximized){
      win.style.top = "0px";
      win.style.left = "0px";
      win.style.width = "100%";
      win.style.height = "100%";
      maximized = true;
    } else {
      win.style.width = "500px";
      win.style.height = "350px";
      win.style.top = (60 + Math.random()*100) + "px";
      win.style.left = (60 + Math.random()*100) + "px";
      maximized = false;
    }
  };

  // Drag logic
  let offsetX, offsetY, dragging=false;
  titlebar.addEventListener("mousedown", e=>{
    dragging=true;
    offsetX = e.clientX - win.offsetLeft;
    offsetY = e.clientY - win.offsetTop;
  });
  document.addEventListener("mousemove", e=>{
    if(dragging && !maximized){
      win.style.left = (e.clientX - offsetX) + "px";
      win.style.top = (e.clientY - offsetY) + "px";
    }
  });
  document.addEventListener("mouseup", ()=> dragging=false);
}

/* Start Menu toggle */
function toggleStartMenu(){
  const menu = document.getElementById("startMenu");
  menu.style.display = (menu.style.display === "flex") ? "none" : "flex";
}

/* Change background */
function changeBackground(){
  const input = document.createElement("input");
  input.type = "file";
  input.accept = "image/*";
  input.onchange = e => {
    const file = e.target.files[0];
    if(file){
      const url = URL.createObjectURL(file);
      document.body.style.background = `url('${url}') center/cover no-repeat`;
    }
    }
  };
  document.querySelectorAll('.icon').forEach(icon => {
  let offsetX, offsetY, dragging = false;

  icon.addEventListener('mousedown', e => {
    dragging = true;
    offsetX = e.clientX - icon.offsetLeft;
    offsetY = e.clientY - icon.offsetTop;
    icon.style.zIndex = 9999;
  });

  document.addEventListener('mousemove', e => {
    if (dragging) {
      icon.style.left = (e.clientX - offsetX) + 'px';
      icon.style.top = (e.clientY - offsetY) + 'px';
    }
  });

  document.addEventListener('mouseup', () => {
    dragging = false;
    icon.style.zIndex = 10;
  });
});
// Snap-to-grid settings
const gridSize = 100;

// Load saved positions
window.addEventListener("load", () => {
  document.querySelectorAll(".icon").forEach(icon => {
    const id = icon.querySelector("span").textContent;
    const saved = localStorage.getItem("icon-" + id);
    if (saved) {
      const [x, y] = saved.split(",");
      icon.style.left = x + "px";
      icon.style.top = y + "px";
    }
  });
});

// Drag-and-drop with snap-to-grid + save
document.querySelectorAll(".icon").forEach(icon => {
  let offsetX, offsetY, dragging = false;

  icon.addEventListener("mousedown", e => {
    dragging = true;
    offsetX = e.clientX - icon.offsetLeft;
    offsetY = e.clientY - icon.offsetTop;
    icon.style.zIndex = 9999;
  });

  document.addEventListener("mousemove", e => {
    if (dragging) {
      icon.style.left = (e.clientX - offsetX) + "px";
      icon.style.top = (e.clientY - offsetY) + "px";
    }
  });

  document.addEventListener("mouseup", () => {
    if (dragging) {
      dragging = false;
      icon.style.zIndex = 10;

      // Snap to grid
      const snappedX = Math.round(icon.offsetLeft / gridSize) * gridSize;
      const snappedY = Math.round(icon.offsetTop / gridSize) * gridSize;
      icon.style.left = snappedX + "px";
      icon.style.top = snappedY + "px";

      // Save position
      const id = icon.querySelector("span").textContent;
      localStorage.setItem("icon-" + id, `${snappedX},${snappedY}`);
    }
  });
});

  input.click();


</script>

</body>
</html>


